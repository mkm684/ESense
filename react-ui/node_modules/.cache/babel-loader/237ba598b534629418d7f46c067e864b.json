{"ast":null,"code":"import _objectSpread from \"/home/mohamed/projects/sap/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/home/mohamed/projects/sap/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nvar _jsxFileName = \"/home/mohamed/projects/sap/react-reduction/src/pages/ChartPage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { getColor } from 'utils/colors';\nimport { randomNum } from 'utils/demos';\nimport { Row, Col, Card, CardHeader, CardBody } from 'reactstrap';\nimport { Line } from 'react-chartjs-2';\nimport 'chartjs-plugin-streaming';\nimport Page from 'components/Page';\nvar MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July'];\n\nvar getData = function getData() {\n  var res;\n  return _regeneratorRuntime.async(function getData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(axios.get('http://127.0.0.1:5000/result'));\n\n        case 3:\n          res = _context.sent;\n          return _context.abrupt(\"return\", res);\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          alert('Oh hey. Something went wrong...');\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]]);\n};\n\nglobal_d = 0;\n\nfunction createGist() {\n  fetch('http://127.0.0.1:5000/result', {\n    method: 'get'\n  }).then(function (response) {\n    console.log('got Something');\n    return response.json();\n  }).then(function (data) {\n    global_d = data;\n  });\n}\n\nvar genLineData = function genLineData() {\n  var moreData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var moreData2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    labels: MONTHS,\n    datasets: [_objectSpread({\n      label: 'Dataset 1',\n      backgroundColor: getColor('primary'),\n      borderColor: getColor('primary'),\n      borderWidth: 1,\n      data: []\n    }, moreData), _objectSpread({\n      label: 'Dataset 2',\n      backgroundColor: getColor('secondary'),\n      borderColor: getColor('secondary'),\n      borderWidth: 1,\n      data: []\n    }, moreData2)]\n  };\n};\n\nvar options = {\n  scales: {\n    xAxes: [{\n      type: \"realtime\",\n      realtime: {\n        onRefresh: function onRefresh(chart) {\n          chart.data.datasets.forEach(function (dataset) {\n            dataset.data.push({\n              x: Date.now(),\n              y: createGist()\n            });\n          });\n        },\n        delay: 2000\n      }\n    }]\n  }\n};\n\nvar ChartPage = function ChartPage() {\n  return React.createElement(Page, {\n    title: \"Charts\",\n    breadcrumbs: [{\n      name: 'Charts',\n      active: true\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xl: 6,\n    lg: 12,\n    md: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(CardHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Stacked Line\"), React.createElement(CardBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Line, {\n    data: genLineData(),\n    options: options,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })))), React.createElement(Col, {\n    xl: 6,\n    lg: 12,\n    md: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(CardHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Line\"), React.createElement(CardBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(Line, {\n    data: genLineData({\n      fill: false\n    }, {\n      fill: false\n    }),\n    options: options,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }))))));\n};\n\nexport default ChartPage;","map":{"version":3,"sources":["/home/mohamed/projects/sap/react-reduction/src/pages/ChartPage.js"],"names":["React","axios","getColor","randomNum","Row","Col","Card","CardHeader","CardBody","Line","Page","MONTHS","getData","get","res","alert","global_d","createGist","fetch","method","then","response","console","log","json","data","genLineData","moreData","moreData2","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","scales","xAxes","type","realtime","onRefresh","chart","forEach","dataset","push","x","Date","now","y","delay","ChartPage","name","active","fill"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport { getColor } from 'utils/colors';\nimport { randomNum } from 'utils/demos';\n\nimport { Row, Col, Card, CardHeader, CardBody } from 'reactstrap';\n\nimport {Line} from 'react-chartjs-2';\nimport 'chartjs-plugin-streaming';\n\nimport Page from 'components/Page';\n\nconst MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July'];\n\nconst getData = async () => {\n    try {\n      const res = await axios.get('http://127.0.0.1:5000/result');\n      return res\n    } catch (err) {\n      alert('Oh hey. Something went wrong...');\n    }\n}\n\nglobal_d = 0\nfunction createGist() {\n  fetch('http://127.0.0.1:5000/result', {\n      method: 'get',\n    }).then(function(response) {\n      console.log('got Something')\n      return response.json();\n    }).then(function(data) {\n      global_d = data\n    });\n}\n\nconst genLineData = (moreData = {}, moreData2 = {}) => {\n  return {\n    labels: MONTHS,\n    datasets: [\n      {\n        label: 'Dataset 1',\n        backgroundColor: getColor('primary'),\n        borderColor: getColor('primary'),\n        borderWidth: 1,\n        data: [],\n        ...moreData,\n      },\n      {\n        label: 'Dataset 2',\n        backgroundColor: getColor('secondary'),\n        borderColor: getColor('secondary'),\n        borderWidth: 1,\n        data: [],\n        ...moreData2,\n      },\n    ],\n  };\n};\n\nconst options = {\n  scales: {\n    xAxes: [\n      {\n        type: \"realtime\",\n        realtime: {\n          onRefresh: function(chart) {\n            chart.data.datasets.forEach(function(dataset) {\n              dataset.data.push({\n                x: Date.now(),\n                y: createGist()\n              });\n            });\n          },\n          delay: 2000\n        }\n      }\n    ]\n  }\n};\n\nconst ChartPage = () => {\n  return (\n    <Page title=\"Charts\" breadcrumbs={[{ name: 'Charts', active: true }]}>\n      <Row>\n        <Col xl={6} lg={12} md={12}>\n          <Card>\n            <CardHeader>Stacked Line</CardHeader>\n            <CardBody>\n              <Line\n                data={genLineData()}\n                options={options}\n              />\n            </CardBody>\n          </Card>\n        </Col>\n\n        <Col xl={6} lg={12} md={12}>\n          <Card>\n            <CardHeader>Line</CardHeader>\n            <CardBody>\n              <Line \n                data={genLineData({ fill: false }, { fill: false })} \n                options={options}\n              />\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </Page>\n  );\n};\n\nexport default ChartPage;\n"]},"metadata":{},"sourceType":"module"}