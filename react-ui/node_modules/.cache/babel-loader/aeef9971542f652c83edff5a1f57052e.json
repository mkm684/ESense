{"ast":null,"code":"var React = require('react');\n\nvar createReactClass = require('create-react-class');\n\nvar PropTypes = require('prop-types');\n\nvar ReactDOM = require('react-dom');\n\nvar Constants = require('./constants');\n\nvar Helpers = require('./helpers');\n\nvar merge = require('object-assign');\n/* From Modernizr */\n\n\nvar whichTransitionEvent = function whichTransitionEvent() {\n  var el = document.createElement('fakeelement');\n  var transition;\n  var transitions = {\n    transition: 'transitionend',\n    OTransition: 'oTransitionEnd',\n    MozTransition: 'transitionend',\n    WebkitTransition: 'webkitTransitionEnd'\n  };\n  Object.keys(transitions).forEach(function (transitionKey) {\n    if (el.style[transitionKey] !== undefined) {\n      transition = transitions[transitionKey];\n    }\n  });\n  return transition;\n};\n\nvar NotificationItem = createReactClass({\n  propTypes: {\n    notification: PropTypes.object,\n    getStyles: PropTypes.object,\n    onRemove: PropTypes.func,\n    allowHTML: PropTypes.bool,\n    noAnimation: PropTypes.bool,\n    children: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      noAnimation: false,\n      onRemove: function onRemove() {},\n      allowHTML: false\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      visible: undefined,\n      removed: false\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    var getStyles = this.props.getStyles;\n    var level = this.props.notification.level;\n    var dismissible = this.props.notification.dismissible;\n    this._noAnimation = this.props.noAnimation;\n    this._styles = {\n      notification: getStyles.byElement('notification')(level),\n      title: getStyles.byElement('title')(level),\n      dismiss: getStyles.byElement('dismiss')(level),\n      messageWrapper: getStyles.byElement('messageWrapper')(level),\n      actionWrapper: getStyles.byElement('actionWrapper')(level),\n      action: getStyles.byElement('action')(level)\n    };\n\n    if (!dismissible || dismissible === 'none' || dismissible === 'button') {\n      this._styles.notification.cursor = 'default';\n    }\n  },\n  _styles: {},\n  _notificationTimer: null,\n  _height: 0,\n  _noAnimation: null,\n  _isMounted: false,\n  _removeCount: 0,\n  _getCssPropertyByPosition: function _getCssPropertyByPosition() {\n    var position = this.props.notification.position;\n    var css = {};\n\n    switch (position) {\n      case Constants.positions.tl:\n      case Constants.positions.bl:\n        css = {\n          property: 'left',\n          value: -200\n        };\n        break;\n\n      case Constants.positions.tr:\n      case Constants.positions.br:\n        css = {\n          property: 'right',\n          value: -200\n        };\n        break;\n\n      case Constants.positions.tc:\n        css = {\n          property: 'top',\n          value: -100\n        };\n        break;\n\n      case Constants.positions.bc:\n        css = {\n          property: 'bottom',\n          value: -100\n        };\n        break;\n\n      default:\n    }\n\n    return css;\n  },\n  _defaultAction: function _defaultAction(event) {\n    var notification = this.props.notification;\n    event.preventDefault();\n\n    this._hideNotification();\n\n    if (typeof notification.action.callback === 'function') {\n      notification.action.callback();\n    }\n  },\n  _hideNotification: function _hideNotification() {\n    if (this._notificationTimer) {\n      this._notificationTimer.clear();\n    }\n\n    if (this._isMounted) {\n      this.setState({\n        visible: false,\n        removed: true\n      });\n    }\n\n    if (this._noAnimation) {\n      this._removeNotification();\n    }\n  },\n  _removeNotification: function _removeNotification() {\n    this.props.onRemove(this.props.notification.uid);\n  },\n  _dismiss: function _dismiss() {\n    if (!this.props.notification.dismissible) {\n      return;\n    }\n\n    this._hideNotification();\n  },\n  _showNotification: function _showNotification() {\n    var self = this;\n    setTimeout(function () {\n      if (self._isMounted) {\n        self.setState({\n          visible: true\n        });\n      }\n    }, 50);\n  },\n  _onTransitionEnd: function _onTransitionEnd() {\n    if (this._removeCount > 0) return;\n\n    if (this.state.removed) {\n      this._removeCount += 1;\n\n      this._removeNotification();\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    var self = this;\n    var transitionEvent = whichTransitionEvent();\n    var notification = this.props.notification;\n    var element = ReactDOM.findDOMNode(this);\n    this._height = element.offsetHeight;\n    this._isMounted = true; // Watch for transition end\n\n    if (!this._noAnimation) {\n      if (transitionEvent) {\n        element.addEventListener(transitionEvent, this._onTransitionEnd);\n      } else {\n        this._noAnimation = true;\n      }\n    }\n\n    if (notification.autoDismiss) {\n      this._notificationTimer = new Helpers.Timer(function () {\n        self._hideNotification();\n      }, notification.autoDismiss * 1000);\n    }\n\n    this._showNotification();\n  },\n  _handleMouseEnter: function _handleMouseEnter() {\n    var notification = this.props.notification;\n\n    if (notification.autoDismiss) {\n      this._notificationTimer.pause();\n    }\n  },\n  _handleMouseLeave: function _handleMouseLeave() {\n    var notification = this.props.notification;\n\n    if (notification.autoDismiss) {\n      this._notificationTimer.resume();\n    }\n  },\n  _handleNotificationClick: function _handleNotificationClick() {\n    var dismissible = this.props.notification.dismissible;\n\n    if (dismissible === 'both' || dismissible === 'click' || dismissible === true) {\n      this._dismiss();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    var element = ReactDOM.findDOMNode(this);\n    var transitionEvent = whichTransitionEvent();\n    element.removeEventListener(transitionEvent, this._onTransitionEnd);\n    this._isMounted = false;\n  },\n  _allowHTML: function _allowHTML(string) {\n    return {\n      __html: string\n    };\n  },\n  render: function render() {\n    var notification = this.props.notification;\n    var className = 'notification notification-' + notification.level;\n    var notificationStyle = merge({}, this._styles.notification);\n\n    var cssByPos = this._getCssPropertyByPosition();\n\n    var dismiss = null;\n    var actionButton = null;\n    var title = null;\n    var message = null;\n\n    if (this.state.visible) {\n      className += ' notification-visible';\n    } else if (this.state.visible === false) {\n      className += ' notification-hidden';\n    }\n\n    if (notification.dismissible === 'none') {\n      className += ' notification-not-dismissible';\n    }\n\n    if (this.props.getStyles.overrideStyle) {\n      if (!this.state.visible && !this.state.removed) {\n        notificationStyle[cssByPos.property] = cssByPos.value;\n      }\n\n      if (this.state.visible && !this.state.removed) {\n        notificationStyle.height = this._height;\n        notificationStyle[cssByPos.property] = 0;\n      }\n\n      if (this.state.removed) {\n        notificationStyle.overlay = 'hidden';\n        notificationStyle.height = 0;\n        notificationStyle.marginTop = 0;\n        notificationStyle.paddingTop = 0;\n        notificationStyle.paddingBottom = 0;\n      }\n\n      notificationStyle.opacity = this.state.visible ? this._styles.notification.isVisible.opacity : this._styles.notification.isHidden.opacity;\n    }\n\n    if (notification.title) {\n      title = React.createElement(\"h4\", {\n        className: \"notification-title\",\n        style: this._styles.title\n      }, notification.title);\n    }\n\n    if (notification.message) {\n      if (this.props.allowHTML) {\n        message = React.createElement(\"div\", {\n          className: \"notification-message\",\n          style: this._styles.messageWrapper,\n          dangerouslySetInnerHTML: this._allowHTML(notification.message)\n        });\n      } else {\n        message = React.createElement(\"div\", {\n          className: \"notification-message\",\n          style: this._styles.messageWrapper\n        }, notification.message);\n      }\n    }\n\n    if (notification.dismissible === 'both' || notification.dismissible === 'button' || notification.dismissible === true) {\n      dismiss = React.createElement(\"span\", {\n        className: \"notification-dismiss\",\n        onClick: this._dismiss,\n        style: this._styles.dismiss\n      }, \"×\");\n    }\n\n    if (notification.action) {\n      actionButton = React.createElement(\"div\", {\n        className: \"notification-action-wrapper\",\n        style: this._styles.actionWrapper\n      }, React.createElement(\"button\", {\n        className: \"notification-action-button\",\n        onClick: this._defaultAction,\n        style: this._styles.action\n      }, notification.action.label));\n    }\n\n    if (notification.children) {\n      actionButton = notification.children;\n    }\n\n    return React.createElement(\"div\", {\n      className: className,\n      onClick: this._handleNotificationClick,\n      onMouseEnter: this._handleMouseEnter,\n      onMouseLeave: this._handleMouseLeave,\n      style: notificationStyle\n    }, title, message, dismiss, actionButton);\n  }\n});\nmodule.exports = NotificationItem;","map":{"version":3,"sources":["/home/mohamed/projects/ESense/react-ui/node_modules/react-notification-system/dist/NotificationItem.js"],"names":["React","require","createReactClass","PropTypes","ReactDOM","Constants","Helpers","merge","whichTransitionEvent","el","document","createElement","transition","transitions","OTransition","MozTransition","WebkitTransition","Object","keys","forEach","transitionKey","style","undefined","NotificationItem","propTypes","notification","object","getStyles","onRemove","func","allowHTML","bool","noAnimation","children","oneOfType","string","element","getDefaultProps","getInitialState","visible","removed","componentWillMount","props","level","dismissible","_noAnimation","_styles","byElement","title","dismiss","messageWrapper","actionWrapper","action","cursor","_notificationTimer","_height","_isMounted","_removeCount","_getCssPropertyByPosition","position","css","positions","tl","bl","property","value","tr","br","tc","bc","_defaultAction","event","preventDefault","_hideNotification","callback","clear","setState","_removeNotification","uid","_dismiss","_showNotification","self","setTimeout","_onTransitionEnd","state","componentDidMount","transitionEvent","findDOMNode","offsetHeight","addEventListener","autoDismiss","Timer","_handleMouseEnter","pause","_handleMouseLeave","resume","_handleNotificationClick","componentWillUnmount","removeEventListener","_allowHTML","__html","render","className","notificationStyle","cssByPos","actionButton","message","overrideStyle","height","overlay","marginTop","paddingTop","paddingBottom","opacity","isVisible","isHidden","dangerouslySetInnerHTML","onClick","label","onMouseEnter","onMouseLeave","module","exports"],"mappings":"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","sourcesContent":["var React = require('react');\nvar createReactClass = require('create-react-class');\nvar PropTypes = require('prop-types');\nvar ReactDOM = require('react-dom');\nvar Constants = require('./constants');\nvar Helpers = require('./helpers');\nvar merge = require('object-assign');\n\n/* From Modernizr */\nvar whichTransitionEvent = function() {\n  var el = document.createElement('fakeelement');\n  var transition;\n  var transitions = {\n    transition: 'transitionend',\n    OTransition: 'oTransitionEnd',\n    MozTransition: 'transitionend',\n    WebkitTransition: 'webkitTransitionEnd'\n  };\n\n  Object.keys(transitions).forEach(function(transitionKey) {\n    if (el.style[transitionKey] !== undefined) {\n      transition = transitions[transitionKey];\n    }\n  });\n\n  return transition;\n};\n\nvar NotificationItem = createReactClass({\n  propTypes: {\n    notification: PropTypes.object,\n    getStyles: PropTypes.object,\n    onRemove: PropTypes.func,\n    allowHTML: PropTypes.bool,\n    noAnimation: PropTypes.bool,\n    children: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.element\n    ])\n  },\n\n  getDefaultProps: function() {\n    return {\n      noAnimation: false,\n      onRemove: function() {},\n      allowHTML: false\n    };\n  },\n\n  getInitialState: function() {\n    return {\n      visible: undefined,\n      removed: false\n    };\n  },\n\n  componentWillMount: function() {\n    var getStyles = this.props.getStyles;\n    var level = this.props.notification.level;\n    var dismissible = this.props.notification.dismissible;\n\n    this._noAnimation = this.props.noAnimation;\n\n    this._styles = {\n      notification: getStyles.byElement('notification')(level),\n      title: getStyles.byElement('title')(level),\n      dismiss: getStyles.byElement('dismiss')(level),\n      messageWrapper: getStyles.byElement('messageWrapper')(level),\n      actionWrapper: getStyles.byElement('actionWrapper')(level),\n      action: getStyles.byElement('action')(level)\n    };\n\n    if (!dismissible || dismissible === 'none' || dismissible === 'button') {\n      this._styles.notification.cursor = 'default';\n    }\n  },\n\n  _styles: {},\n\n  _notificationTimer: null,\n\n  _height: 0,\n\n  _noAnimation: null,\n\n  _isMounted: false,\n\n  _removeCount: 0,\n\n  _getCssPropertyByPosition: function() {\n    var position = this.props.notification.position;\n    var css = {};\n\n    switch (position) {\n    case Constants.positions.tl:\n    case Constants.positions.bl:\n      css = {\n        property: 'left',\n        value: -200\n      };\n      break;\n\n    case Constants.positions.tr:\n    case Constants.positions.br:\n      css = {\n        property: 'right',\n        value: -200\n      };\n      break;\n\n    case Constants.positions.tc:\n      css = {\n        property: 'top',\n        value: -100\n      };\n      break;\n\n    case Constants.positions.bc:\n      css = {\n        property: 'bottom',\n        value: -100\n      };\n      break;\n\n    default:\n    }\n\n    return css;\n  },\n\n  _defaultAction: function(event) {\n    var notification = this.props.notification;\n\n    event.preventDefault();\n    this._hideNotification();\n    if (typeof notification.action.callback === 'function') {\n      notification.action.callback();\n    }\n  },\n\n  _hideNotification: function() {\n    if (this._notificationTimer) {\n      this._notificationTimer.clear();\n    }\n\n    if (this._isMounted) {\n      this.setState({\n        visible: false,\n        removed: true\n      });\n    }\n\n    if (this._noAnimation) {\n      this._removeNotification();\n    }\n  },\n\n  _removeNotification: function() {\n    this.props.onRemove(this.props.notification.uid);\n  },\n\n  _dismiss: function() {\n    if (!this.props.notification.dismissible) {\n      return;\n    }\n\n    this._hideNotification();\n  },\n\n  _showNotification: function() {\n    var self = this;\n    setTimeout(function() {\n      if (self._isMounted) {\n        self.setState({\n          visible: true\n        });\n      }\n    }, 50);\n  },\n\n  _onTransitionEnd: function() {\n    if (this._removeCount > 0) return;\n    if (this.state.removed) {\n      this._removeCount += 1;\n      this._removeNotification();\n    }\n  },\n\n  componentDidMount: function() {\n    var self = this;\n    var transitionEvent = whichTransitionEvent();\n    var notification = this.props.notification;\n    var element = ReactDOM.findDOMNode(this);\n\n    this._height = element.offsetHeight;\n\n    this._isMounted = true;\n\n    // Watch for transition end\n    if (!this._noAnimation) {\n      if (transitionEvent) {\n        element.addEventListener(transitionEvent, this._onTransitionEnd);\n      } else {\n        this._noAnimation = true;\n      }\n    }\n\n\n    if (notification.autoDismiss) {\n      this._notificationTimer = new Helpers.Timer(function() {\n        self._hideNotification();\n      }, notification.autoDismiss * 1000);\n    }\n\n    this._showNotification();\n  },\n\n  _handleMouseEnter: function() {\n    var notification = this.props.notification;\n    if (notification.autoDismiss) {\n      this._notificationTimer.pause();\n    }\n  },\n\n  _handleMouseLeave: function() {\n    var notification = this.props.notification;\n    if (notification.autoDismiss) {\n      this._notificationTimer.resume();\n    }\n  },\n\n  _handleNotificationClick: function() {\n    var dismissible = this.props.notification.dismissible;\n    if (dismissible === 'both' || dismissible === 'click' || dismissible === true) {\n      this._dismiss();\n    }\n  },\n\n  componentWillUnmount: function() {\n    var element = ReactDOM.findDOMNode(this);\n    var transitionEvent = whichTransitionEvent();\n    element.removeEventListener(transitionEvent, this._onTransitionEnd);\n    this._isMounted = false;\n  },\n\n  _allowHTML: function(string) {\n    return { __html: string };\n  },\n\n  render: function() {\n    var notification = this.props.notification;\n    var className = 'notification notification-' + notification.level;\n    var notificationStyle = merge({}, this._styles.notification);\n    var cssByPos = this._getCssPropertyByPosition();\n    var dismiss = null;\n    var actionButton = null;\n    var title = null;\n    var message = null;\n\n    if (this.state.visible) {\n      className += ' notification-visible';\n    } else if (this.state.visible === false) {\n      className += ' notification-hidden';\n    }\n\n    if (notification.dismissible === 'none') {\n      className += ' notification-not-dismissible';\n    }\n\n    if (this.props.getStyles.overrideStyle) {\n      if (!this.state.visible && !this.state.removed) {\n        notificationStyle[cssByPos.property] = cssByPos.value;\n      }\n\n      if (this.state.visible && !this.state.removed) {\n        notificationStyle.height = this._height;\n        notificationStyle[cssByPos.property] = 0;\n      }\n\n      if (this.state.removed) {\n        notificationStyle.overlay = 'hidden';\n        notificationStyle.height = 0;\n        notificationStyle.marginTop = 0;\n        notificationStyle.paddingTop = 0;\n        notificationStyle.paddingBottom = 0;\n      }\n      notificationStyle.opacity = this.state.visible ? this._styles.notification.isVisible.opacity : this._styles.notification.isHidden.opacity;\n    }\n\n    if (notification.title) {\n      title = React.createElement(\"h4\", {className: \"notification-title\", style:  this._styles.title},  notification.title);\n    }\n\n    if (notification.message) {\n      if (this.props.allowHTML) {\n        message = (\n          React.createElement(\"div\", {className: \"notification-message\", style:  this._styles.messageWrapper, dangerouslySetInnerHTML:  this._allowHTML(notification.message) })\n        );\n      } else {\n        message = (\n          React.createElement(\"div\", {className: \"notification-message\", style:  this._styles.messageWrapper},  notification.message)\n        );\n      }\n    }\n    if (notification.dismissible === 'both' || notification.dismissible === 'button' || notification.dismissible === true) {\n      dismiss = React.createElement(\"span\", {className: \"notification-dismiss\", onClick:  this._dismiss, style:  this._styles.dismiss}, \"×\");\n    }\n\n    if (notification.action) {\n      actionButton = (\n        React.createElement(\"div\", {className: \"notification-action-wrapper\", style:  this._styles.actionWrapper}, \n          React.createElement(\"button\", {className: \"notification-action-button\", \n            onClick:  this._defaultAction, \n            style:  this._styles.action}, \n             notification.action.label\n          )\n        )\n      );\n    }\n\n    if (notification.children) {\n      actionButton = notification.children;\n    }\n\n    return (\n      React.createElement(\"div\", {className:  className, onClick:  this._handleNotificationClick, onMouseEnter:  this._handleMouseEnter, onMouseLeave:  this._handleMouseLeave, style:  notificationStyle }, \n         title, \n         message, \n         dismiss, \n         actionButton \n      )\n    );\n  }\n\n});\n\nmodule.exports = NotificationItem;\n"]},"metadata":{},"sourceType":"script"}