{"ast":null,"code":"import _classCallCheck from \"/home/mohamed/projects/sap/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mohamed/projects/sap/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mohamed/projects/sap/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mohamed/projects/sap/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mohamed/projects/sap/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactGA from 'react-ga';\nvar hasGAId = !!process.env.REACT_APP_GOOGLE_ANALYTICS;\n\nif (hasGAId) {\n  ReactGA.initialize(process.env.REACT_APP_GOOGLE_ANALYTICS);\n}\n\nvar GAListener =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GAListener, _React$Component);\n\n  function GAListener() {\n    _classCallCheck(this, GAListener);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GAListener).apply(this, arguments));\n  }\n\n  _createClass(GAListener, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (hasGAId) {\n        this.sendPageView(this.context.router.history.location);\n        this.context.router.history.listen(this.sendPageView);\n      }\n    }\n  }, {\n    key: \"sendPageView\",\n    value: function sendPageView(location) {\n      ReactGA.set({\n        page: location.pathname\n      });\n      ReactGA.pageview(location.pathname);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return GAListener;\n}(React.Component);\n\nGAListener.contextTypes = {\n  router: PropTypes.object\n};\nexport default GAListener;","map":{"version":3,"sources":["/home/mohamed/projects/sap/react-reduction/src/components/GAListener.js"],"names":["React","PropTypes","ReactGA","hasGAId","process","env","REACT_APP_GOOGLE_ANALYTICS","initialize","GAListener","sendPageView","context","router","history","location","listen","set","page","pathname","pageview","props","children","Component","contextTypes","object"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,OAAP,MAAoB,UAApB;AAEA,IAAMC,OAAO,GAAG,CAAC,CAACC,OAAO,CAACC,GAAR,CAAYC,0BAA9B;;AAEA,IAAIH,OAAJ,EAAa;AACXD,EAAAA,OAAO,CAACK,UAAR,CAAmBH,OAAO,CAACC,GAAR,CAAYC,0BAA/B;AACD;;IAEKE,U;;;;;;;;;;;;;wCAKgB;AAClB,UAAIL,OAAJ,EAAa;AACX,aAAKM,YAAL,CAAkB,KAAKC,OAAL,CAAaC,MAAb,CAAoBC,OAApB,CAA4BC,QAA9C;AACA,aAAKH,OAAL,CAAaC,MAAb,CAAoBC,OAApB,CAA4BE,MAA5B,CAAmC,KAAKL,YAAxC;AACD;AACF;;;iCAEYI,Q,EAAU;AACrBX,MAAAA,OAAO,CAACa,GAAR,CAAY;AAAEC,QAAAA,IAAI,EAAEH,QAAQ,CAACI;AAAjB,OAAZ;AACAf,MAAAA,OAAO,CAACgB,QAAR,CAAiBL,QAAQ,CAACI,QAA1B;AACD;;;6BAEQ;AACP,aAAO,KAAKE,KAAL,CAAWC,QAAlB;AACD;;;;EAnBsBpB,KAAK,CAACqB,S;;AAAzBb,U,CACGc,Y,GAAe;AACpBX,EAAAA,MAAM,EAAEV,SAAS,CAACsB;AADE,C;AAqBxB,eAAef,UAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ReactGA from 'react-ga';\n\nconst hasGAId = !!process.env.REACT_APP_GOOGLE_ANALYTICS;\n\nif (hasGAId) {\n  ReactGA.initialize(process.env.REACT_APP_GOOGLE_ANALYTICS);\n}\n\nclass GAListener extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object,\n  };\n\n  componentDidMount() {\n    if (hasGAId) {\n      this.sendPageView(this.context.router.history.location);\n      this.context.router.history.listen(this.sendPageView);\n    }\n  }\n\n  sendPageView(location) {\n    ReactGA.set({ page: location.pathname });\n    ReactGA.pageview(location.pathname);\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default GAListener;\n"]},"metadata":{},"sourceType":"module"}